<ng-template #defaultTemplate let-item>{{ item }}</ng-template>

<ul #root tabindex="0" (focus)="onListFocused($event)" (keydown)="onListKeyDown($event)" role="listbox">
  @for (item of itemsSource() || []; let i = $index;track i) {
  <li tabindex="-1" role="option" [attr.id]="i" (click)="onItemClick($event, item)">
    <ng-container [ngTemplateOutlet]="dataTemplate() || defaultTemplate"
      [ngTemplateOutletContext]="{ $implicit: item, index: i }">
    </ng-container>
  </li>
  }
</ul>
