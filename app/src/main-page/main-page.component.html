<ng-template #instructionTemplate let-item>
  {{ toAsm(item) }}
  <p secondary>0x{{ toHex(item) }}</p>
</ng-template>

<section class="root-panel">
  <main>
    <h1>MIPS CONVERTER</h1>
    <section class="content-panel">
      <app-auto-suggest-box [(text)]="textInput" [suggestions]="suggestions" (querySubmitted)="onInputSubmitted($event)"
        (textChange)="onInputUpdated($event)"></app-auto-suggest-box>

      <hr style="grid-column: 1; grid-row: 2;">

      <app-list-view style="grid-column: 1; grid-row: 3;" [singleSelectionFollowsFocus]="false"
        [itemsSource]="instructions" [dataTemplate]="instructionTemplate"
        (selectionChanged)="onInstructionSelected($event)"></app-list-view>

        <div style="grid-column: 1; grid-row: 4; display: flex; gap: 8px;">
          <button (click)="downloadRam()" [disabled]="instructions.length === 0">Save to RAM</button>
          <button (click)="clearAllInstructions()" 
                  [disabled]="instructions.length === 0" 
                  class="danger-button">
            Clear All
          </button>
        </div>

      <hr vertical style="grid-column: 2; grid-row: 1 / span 4;">

      <app-mips-detail [instruction]="selected" style="grid-column: 3; grid-row: 1 / span 3;"></app-mips-detail>

      <input #fileInput type="file" (change)="onRamUpload($event)" style="visibility: hidden;">
      <button style="grid-column: 3; grid-row: 4;" (click)="fileInput.click()">
        Load RAM (you can also drop it anywhere on the page)
      </button>
    </section>
  </main>


  <button (click)="toggleFooter()">
    {{ showFooter ? 'Contributors' : 'Contributors' }}
  </button>
  

  <footer *ngIf="showFooter">
    <h3>
      This is an open-source project by
      <a href="https://github.com/proyectosingenieriauninorte/MIPSTranslator" target="_blank">
        Proyectos Ingenieria Uninorte
      </a>
    </h3>

    <hr>

    <app-contributors></app-contributors>
  </footer>
</section>